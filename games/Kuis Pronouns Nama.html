<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kuis Pronouns: Nama & Benda</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600;700&display=swap');
        
        body {
            font-family: 'Quicksand', sans-serif;
            background: linear-gradient(135deg, #a1c4fd 0%, #c2e9fb 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .card {
            background: white;
            border-radius: 30px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.1);
            width: 100%;
            max-width: 600px;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .option-btn {
            border: 2px solid #e2e8f0;
            transition: all 0.2s ease;
        }

        .option-btn:hover:not(:disabled) {
            border-color: #3b82f6;
            background-color: #eff6ff;
            transform: translateY(-2px);
        }

        .correct {
            background-color: #dcfce7 !important;
            border-color: #22c55e !important;
            color: #166534;
        }

        .wrong {
            background-color: #fee2e2 !important;
            border-color: #ef4444 !important;
            color: #991b1b;
        }

        .progress-bar {
            height: 10px;
            background-color: #f1f5f9;
            border-radius: 5px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: #3b82f6;
            transition: width 0.4s ease;
        }

        .animate-pop {
            animation: pop 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        @keyframes pop {
            0% { transform: scale(0.9); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }
    </style>
</head>
<body>

    <div class="card p-8 md:p-12 text-center" id="main-container">
        
        <!-- Welcome Screen -->
        <div id="start-screen">
            <div class="text-6xl mb-6">ðŸ“š</div>
            <h1 class="text-3xl font-bold text-gray-800 mb-2">Kuis Pronouns Nama</h1>
            <p class="text-gray-500 mb-8 text-lg">Ganti nama orang atau benda dengan kata ganti yang tepat!</p>
            <button onclick="startGame()" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-12 rounded-2xl shadow-lg transition-all active:scale-95 text-xl">
                Mulai Kuis
            </button>
        </div>

        <!-- Game Screen -->
        <div id="quiz-screen" class="hidden text-left">
            <div class="flex justify-between items-center mb-4">
                <span class="text-blue-600 font-bold uppercase tracking-wider text-sm" id="progress-text">Soal 1 / 15</span>
                <span class="text-gray-400 font-semibold text-sm" id="score-text">Skor: 0</span>
            </div>
            
            <div class="progress-bar mb-8">
                <div class="progress-fill" id="progress-fill" style="width: 0%"></div>
            </div>

            <div id="question-container" class="animate-pop">
                <h2 class="text-2xl font-bold text-gray-800 mb-6 leading-tight" id="question-text">
                    Memuat soal...
                </h2>
                
                <div class="grid grid-cols-1 gap-4" id="options-container">
                    <!-- Buttons will appear here -->
                </div>
            </div>

            <div class="mt-8 flex justify-end">
                <button id="next-btn" onclick="nextQuestion()" class="hidden bg-gray-800 hover:bg-black text-white font-bold py-3 px-8 rounded-xl transition-all">
                    Lanjut Soal Berikutnya â†’
                </button>
            </div>
        </div>

        <!-- Result Screen -->
        <div id="result-screen" class="hidden">
            <h2 class="text-3xl font-bold text-gray-800 mb-2">Hasil Akhir</h2>
            <p class="text-gray-500 mb-10">Berikut adalah pencapaian misi kamu:</p>
            
            <div class="relative inline-block mb-10">
                <div class="w-48 h-48 rounded-full border-8 border-blue-100 flex items-center justify-center">
                    <span class="text-6xl font-black text-blue-600" id="final-percentage">0</span>
                </div>
                <div class="absolute -bottom-2 left-1/2 transform -translate-x-1/2 bg-blue-600 text-white py-1 px-4 rounded-full text-sm font-bold">
                    NILAI ANDA
                </div>
            </div>
            
            <p class="text-xl font-bold text-gray-700 mb-10" id="feedback-msg"></p>

            <button onclick="location.reload()" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 rounded-2xl transition-all text-lg">
                Coba Lagi
            </button>
        </div>

    </div>

    <script>
        const questions = [
            { q: 'Kata ganti yang tepat untuk menggantikan "Andi" adalah...', a: ["She", "He", "It", "They"], c: 1 },
            { q: 'Kata ganti yang tepat untuk menggantikan "Rina" adalah...', a: ["He", "She", "We", "I"], c: 1 },
            { q: 'Kata ganti yang tepat untuk menggantikan "Sofyan and Rina" adalah...', a: ["We", "You", "They", "It"], c: 2 },
            { q: 'Kata ganti yang tepat untuk menggantikan "Saya, Rina, and Robi" adalah...', a: ["They", "We", "You", "He"], c: 1 },
            { q: 'Kata ganti yang tepat untuk menggantikan "The book" (Buku itu) adalah...', a: ["It", "He", "She", "They"], c: 0 },
            { q: 'Kata ganti yang tepat untuk menggantikan "My Mother" adalah...', a: ["He", "She", "It", "We"], c: 1 },
            { q: 'Kata ganti yang tepat untuk menggantikan "The tables" (Meja-meja) adalah...', a: ["It", "We", "They", "You"], c: 2 },
            { q: 'Kata ganti yang tepat untuk menggantikan "You and Budi" (Kamu dan Budi) adalah...', a: ["We", "You", "They", "I"], c: 1 },
            { q: 'Kata ganti yang tepat untuk menggantikan "The cat" (satu ekor) adalah...', a: ["It", "He", "She", "They"], c: 0 },
            { q: 'Kata ganti yang tepat untuk menggantikan "Father and Mother" adalah...', a: ["We", "He", "They", "She"], c: 2 },
            { q: 'Kata ganti yang tepat untuk menggantikan "The dogs" (banyak anjing) adalah...', a: ["It", "They", "We", "He"], c: 1 },
            { q: 'Kata ganti yang tepat untuk menggantikan "Budi and I" (Budi dan Saya) adalah...', a: ["They", "We", "You", "He"], c: 1 },
            { q: 'Kata ganti yang tepat untuk menggantikan "Mr. Sofyan" adalah...', a: ["He", "She", "It", "I"], c: 0 },
            { q: 'Kata ganti yang tepat untuk menggantikan "The pencils" (banyak pensil) adalah...', a: ["It", "They", "We", "She"], c: 1 },
            { q: 'Kata ganti yang tepat untuk menggantikan "Rina and you" (Rina dan Kamu) adalah...', a: ["We", "They", "You", "She"], c: 2 }
        ];

        let currentIdx = 0;
        let correctAnswers = 0;

        function startGame() {
            document.getElementById('start-screen').classList.add('hidden');
            document.getElementById('quiz-screen').classList.remove('hidden');
            showQuestion();
        }

        function showQuestion() {
            const data = questions[currentIdx];
            const container = document.getElementById('options-container');
            const qBox = document.getElementById('question-container');
            
            // Reset question box animation
            qBox.classList.remove('animate-pop');
            void qBox.offsetWidth; 
            qBox.classList.add('animate-pop');

            document.getElementById('progress-text').innerText = `Soal ${currentIdx + 1} / ${questions.length}`;
            document.getElementById('progress-fill').style.width = `${(currentIdx / questions.length) * 100}%`;
            document.getElementById('question-text').innerText = data.q;
            document.getElementById('next-btn').classList.add('hidden');
            
            container.innerHTML = '';
            data.a.forEach((opt, i) => {
                const btn = document.createElement('button');
                btn.className = 'option-btn w-full text-left p-5 rounded-2xl font-semibold text-gray-700 bg-white flex items-center';
                btn.innerHTML = `<span class="w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center mr-4 text-sm">${String.fromCharCode(65 + i)}</span> ${opt}`;
                btn.onclick = () => checkAnswer(i, btn);
                container.appendChild(btn);
            });
        }

        function checkAnswer(choice, btn) {
            const correct = questions[currentIdx].c;
            const buttons = document.querySelectorAll('.option-btn');
            
            buttons.forEach(b => b.disabled = true);

            if (choice === correct) {
                correctAnswers++;
                btn.classList.add('correct');
            } else {
                btn.classList.add('wrong');
                buttons[correct].classList.add('correct');
            }
            
            document.getElementById('score-text').innerText = `Skor: ${correctAnswers}`;
            document.getElementById('next-btn').classList.remove('hidden');
        }

        function nextQuestion() {
            currentIdx++;
            if (currentIdx < questions.length) {
                showQuestion();
            } else {
                showResult();
            }
        }

        function showResult() {
            document.getElementById('quiz-screen').classList.add('hidden');
            document.getElementById('result-screen').classList.remove('hidden');
            
            // Perhitungan nilai skala 100 (persentase tanpa simbol %)
            const scoreValue = Math.round((correctAnswers / questions.length) * 100);
            
            // Animasi angka nilai
            let currentVal = 0;
            const duration = 1000;
            const stepTime = Math.abs(Math.floor(duration / scoreValue));
            
            const timer = setInterval(() => {
                if (scoreValue === 0) {
                    document.getElementById('final-percentage').innerText = "0";
                    clearInterval(timer);
                } else {
                    currentVal++;
                    document.getElementById('final-percentage').innerText = currentVal;
                    if (currentVal >= scoreValue) clearInterval(timer);
                }
            }, stepTime || 10);

            let message = "";
            if (scoreValue >= 90) message = "Luar Biasa! Kamu adalah Master Pronouns! ðŸ†";
            else if (scoreValue >= 75) message = "Kerja bagus! Sedikit lagi menuju sempurna. âœ¨";
            else if (scoreValue >= 50) message = "Cukup baik, tapi masih perlu banyak latihan. ðŸ“–";
            else message = "Jangan menyerah, ayo belajar lagi lebih giat! ðŸ’ª";
            
            document.getElementById('feedback-msg').innerText = message;
        }
    </script>
</body>
</html>
